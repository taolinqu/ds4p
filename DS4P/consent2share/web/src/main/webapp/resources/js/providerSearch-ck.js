function lookup(){function u(){if(t==0){o.abort();setTimeout(function(){$("#provider_search_modal .search-loading").fadeOut({duration:400})},200);$("#noResponse").show()}}var e="",t=0,n=new Array,r=10,i="<rsHtmStrDeli>";$("#Pagination").empty();$("#resultList").hide();$("#noResult").hide();$("#noResponse").hide();$("#resultList").empty();$("#city_name").val()!=""&&(e+="&city="+$("#city_name").val());$("#state_name").val()!=""&&(e+="&usstate="+$("#state_name").val());$("#zip_code").val()!=""&&(e+="&zipcode="+$("#zip_code").val());if($("#gender").val()!=""){var s=null;$("#gender").val()=="M"&&(s="MALE");$("#gender").val()=="F"&&(s="FEMALE");e+="&gender="+s}$("#specialty").val()!=""&&(e+="&specialty="+$("#specialty").val());$("#phone1").val()!=""&&(e+="&phone="+$("#phone1").val()+$("#phone2").val()+$("#phone3").val());$("#first_name").val()!=""&&(e+="&firstname="+$("#first_name").val());$("#last_name").val()!=""&&(e+="&lastname="+$("#last_name").val());$("#provider_search_modal .search-loading").show();setTimeout(u,1e4);var o=$.ajax({dataType:"json",url:"providerSearch.html",type:"GET",async:!0,data:e,success:function(e){t++;if(e==null){showResult(e,r);return}result4ajaxJSON=e;for(var i=0;i<e.providers.length;i++){addable="true";for(var s=0;s<npiLists.length;s++)e["providers"][i]["npi"]==npiLists[s]&&(addable="false");n[i]=getResultRowHtmStr(i,e.providers[i],addable)}showResult(n,r)}})}function getResultRowHtmStr(e,t,n){var r=t["entityType"]=="Organization",i="<div class='provider_record_space'><div class='provider_record_box'><div class='provider_record_header'><p class='result_row'><span class='result_field provider_name_field'>"+(r==1?t.providerOrganizationName:t.providerLastName+", "+t.providerFirstName)+'</span><span class="result_field">[NPI:'+t.npi+"]</span></p>"+(n=="true"?r==1?'<p class="result_row add_button_space"><span class="result_field"><button class="addOrganizationalProviderButton btn btn-mini btn-success" id="addOrganizationalProviderButton'+e+'"><span class="icon-plus icon-white"></span></button></span> Add this provider.</p></div>':'<p class="result_row add_button_space"><span class="result_field"><button class="addIndividualProviderButton btn btn-mini btn-success" id="addIndividualProviderButton'+e+'"><span class="icon-plus icon-white"></span></button></span> Add this provider.</p></div>':'<p class="result_row add_button_space" style="color: black;"><span class="result_field"><button class="btn btn-mini" disabled="true"><span class="icon-plus icon-white"></span></button></span> Provider already added.</p></div>')+'<p class="result_row"><span class="result_field provider_specialty_field">'+t.healthcareProviderTaxonomy_1+"</span></p>"+'<p class="result_row"><span class="result_field">'+t.providerFirstLineBusinessPracticeLocationAddress+", "+(t["providerSecondLineBusinessPracticeLocationAddress"]==""?t.providerSecondLineBusinessPracticeLocationAddress:"")+t.providerBusinessPracticeLocationAddressCityName+", "+t.providerBusinessPracticeLocationAddressStateName+", "+zipCodeParser(t.providerBusinessPracticeLocationAddressPostalCode)+"</span></p>"+'<p class="result_row"><span class="result_field">'+phoneNumberParser(t.providerBusinessPracticeLocationAddressTelephoneNumber)+"</span></p></div></div>";return i}function showResult(e,t){setTimeout(function(){$("#provider_search_modal .search-loading").fadeOut({duration:400})},200);if(e!=null&&e.length>0){$("#Pagination").buildPagingBar(e,t,showCurrentPage);e.length>t?$("#Pagination").show():$("#Pagination").hide();$("#resultList").show()}else{$("#Pagination").hide();$("#noResult").show()}}function showCurrentPage(e,t,n){var r=Math.min((t+1)*n,e.length),i="";for(var s=t*n;s<r;s++)i+=e[s];$("#resultList").html(i)}function clearLocation(){clearState();$("#state_name").triggerHandler("change");clearCity();$("#city_name").triggerHandler("change");clearZip();$("#zip_code").triggerHandler("propertychange");$("#empty_client_error_text").attr("style","display: none;")}function clearName(){$("#last_name").val("");$("#first_name").val("");$("#specialty").val("");$("#gender").val("");clearPhone();$("#lname_client_error_text").attr("style","display: none;");$("#fname_client_error_text").attr("style","display: none;");$("#empty_client_error_text").attr("style","display: none;")}function clearPhone(){$("#phone1").val("");$("#phone2").val("");$("#phone3").val("");$("#phone_client_error_text").attr("style","display: none;")}function clearAll(){clearLocation();clearName();clearPhone();$("#empty_client_error_text").attr("style","display: none;")}function clearCity(){$("#city_name").val("");$("#city_client_error_text").attr("style","display: none;")}function clearState(){$("#state_name").val("")}function clearZip(){$("#zip_code").val("");$("#zip_client_error_text").attr("style","display: none;")}function city_stateEnableDisable(){if($("#zip_code").val().length<=0)$("#state_name").prop("disabled",!1);else{clearState();clearCity();$("#state_name").prop("disabled",!0);$("#city_name").prop("disabled",!0)}}function cityEnableDisable(){if($("#state_name").val().length<=0){clearCity();$("#city_name").prop("disabled",!0)}else $("#city_name").prop("disabled",!1)}function zipEnableDisable(){if($("#state_name").val().length<=""&&$("#city_name").val()<="")$("#zip_code").prop("disabled",!1);else{clearZip();$("#zip_code").prop("disabled",!0)}}var result4ajaxJSON;npiLists=new Array;$(function(){$("#expand1").click(function(){$("#expandTriangle1").text()=="▼"?$("#expandTriangle1").text("▶"):$("#expandTriangle1").text("▼");$("#expandTriangle2").text("▶")});$("#expand2").click(function(){$("#expandTriangle2").text()=="▼"?$("#expandTriangle2").text("▶"):$("#expandTriangle2").text("▼");$("#expandTriangle1").text("▶")})});$(function(){$(".addIndividualProviderButton").live("click",function(){var e=$(this).attr("id").substr(27,$(this).attr("id").length-27),t=JSON.stringify(result4ajaxJSON.providers[e]);$.ajax({url:"connectionProviderAdd.html",type:"POST",data:{querySent:t},success:function(){window.location.replace("connectionMain.html?notify=add")}})})});$(function(){$(".addOrganizationalProviderButton").live("click",function(){var e=$(this).attr("id").substr(31,$(this).attr("id").length-31),t=JSON.stringify(result4ajaxJSON.providers[e]);$.ajax({url:"connectionProviderAdd.html",type:"POST",data:{querySent:t},success:function(){window.location.replace("connectionMain.html?notify=add")}})})});jQuery.fn.buildPagingBar=function(e,t,n){var r=8,i=2,s=0,o="Prev",u="Next",a="<span>......</span>";return this.each(function(){function l(r,i){s=r;c();n(e,r,t)}function c(){f.empty();var n=Math.ceil(e.length/t),c=Math.ceil(r/2),h=s>c?Math.max(Math.min(s-c,n-r),0):0,p=s>c?Math.min(s+c,n):Math.min(r,n),d=function(e){return function(t){return l(e,t)}},v=function(e,t){e=e<0?0:e<n?e:n-1;t=jQuery.extend({text:e+1,classes:""},t||{});var r=e==s?jQuery("<span class='currentpage'>"+t.text+"</span>"):jQuery("<a>"+t.text+"</a>").bind("click",d(e)).attr("href","#".replace(/__id__/,e));t.classes&&r.addClass(t.classes);f.append(r)};o&&s>0&&v(s-1,{text:o,classes:"prev"});if(h>0&&i>0){var m=Math.min(i,h);for(var g=0;g<m;g++)v(g);i<h&&jQuery(a).appendTo(f)}for(var g=h;g<p;g++)v(g);if(p<n&&i>0){n-i>p&&jQuery(a).appendTo(f);var y=Math.max(n-i,p);for(var g=y;g<n;g++)v(g)}u&&s<n-1&&v(s+1,{text:u,classes:"next"})}var f=jQuery(this);c();n(e,s,t)})};